(this.webpackJsonppostcodes=this.webpackJsonppostcodes||[]).push([[0],{14:function(e,t,a){},15:function(e,t,a){},16:function(e,t,a){"use strict";a.r(t);var n=a(0),i=a.n(n),r=a(8),o=a.n(r),s=(a(14),a(2)),l=a(3),d=a(4),c=a(1),u=a(6),h=a(5),m=(a(15),[[3e3,"Melbourne"],[3280,"Warnambool"],[3450,"Castlemaine"],[3350,"Ballarat"],[3220,"Geelong"],[3396,"Hopetoun"]]);localStorage.getItem("arrPcodes")&&(m=JSON.parse(localStorage.getItem("arrPcodes")));var p=function(e,t){for(var a=!0,n=0;n<e.length;n++)e[n]!==t[n]&&(a=!1);return a},E=function(e){Object(u.a)(a,e);var t=Object(h.a)(a);function a(e){var n;return Object(l.a)(this,a),(n=t.call(this,e)).onClickDelete=n.onClickDelete.bind(Object(c.a)(n)),n.onClickEdit=n.onClickEdit.bind(Object(c.a)(n)),n}return Object(d.a)(a,[{key:"onClickDelete",value:function(){this.props.deleteEntry(Number(this.props.index))}},{key:"onClickEdit",value:function(){this.props.openEditDialogue(this.props.index)}},{key:"render",value:function(){return i.a.createElement("li",null,i.a.createElement("span",{className:"entryListItem"},i.a.createElement("button",{type:"button",onClick:this.onClickDelete},"\xd7"),i.a.createElement("label",null,this.props.value[0]),i.a.createElement("label",null,this.props.value[1]),i.a.createElement("button",{type:"button",onClick:this.onClickEdit},"Edit")))}}]),a}(i.a.Component),b=function(e){Object(u.a)(a,e);var t=Object(h.a)(a);function a(e){var n;return Object(l.a)(this,a),(n=t.call(this,e)).state={tempPcodeValue:"",tempTownNameValue:""},n.handleClick=n.handleClick.bind(Object(c.a)(n)),n.handleChange=n.handleChange.bind(Object(c.a)(n)),n}return Object(d.a)(a,[{key:"handleClick",value:function(){var e=this.state.tempPcodeValue.trim(),t=this.state.tempTownNameValue.trim();e.length>3&&t.length>0?this.props.addEntry(Number(e),t):e.length<4?this.props.setErrorMessage("The postcode needs to be 4 digits long"):0===t.length&&this.props.setErrorMessage("The town/suburb name cannot be empty")}},{key:"handleChange",value:function(e){var t=e.target,a=t.name,n=t.value;"tempPcodeValue"===a?(/^[0-9]+$/.test(n)&&n.length<5||""===n)&&this.setState(Object(s.a)({},a,n)):"tempTownNameValue"===a&&(/^[a-zA-Z\s]+$/.test(n)||""===n)&&this.setState(Object(s.a)({},a,n))}},{key:"render",value:function(){return i.a.createElement("span",null,i.a.createElement("input",{type:"number",name:"tempPcodeValue",value:this.state.tempPcodeValue,placeholder:"Enter postcode here",onChange:this.handleChange}),i.a.createElement("input",{type:"text",name:"tempTownNameValue",value:this.state.tempTownNameValue,placeholder:"Enter town/suburb name here",onChange:this.handleChange}),i.a.createElement("button",{onClick:this.handleClick},"Add"))}}]),a}(i.a.Component),g=function(e){Object(u.a)(a,e);var t=Object(h.a)(a);function a(e){var n;return Object(l.a)(this,a),(n=t.call(this,e)).state={arrPcodes:m,errMessage:"",editMode:!1,editIndex:void 0,editPcodeValue:void 0,editTownNameValue:void 0},n.addEntry=n.addEntry.bind(Object(c.a)(n)),n.editEntry=n.editEntry.bind(Object(c.a)(n)),n.deleteEntry=n.deleteEntry.bind(Object(c.a)(n)),n.setErrorMessage=n.setErrorMessage.bind(Object(c.a)(n)),n.openEditDialogue=n.openEditDialogue.bind(Object(c.a)(n)),n.onClickEditCancel=n.onClickEditCancel.bind(Object(c.a)(n)),n.handleEditChange=n.handleEditChange.bind(Object(c.a)(n)),n.updateStorage=n.updateStorage.bind(Object(c.a)(n)),n.entryAddForm=i.a.createRef(),n}return Object(d.a)(a,[{key:"editEntry",value:function(e){e.preventDefault();var t=[Number(this.state.editPcodeValue),this.state.editTownNameValue],a=this.state.arrPcodes;a.some((function(e){return p(t,e)}))?p(t,this.state.arrPcodes[this.state.editIndex])?this.onClickEditCancel():this.setErrorMessage("The edited entry you're trying to save already exists"):(a[this.state.editIndex]=t,this.setState({arrPcodes:a}),this.onClickEditCancel())}},{key:"deleteEntry",value:function(e){var t=this.state.arrPcodes;t.splice(e,1);this.setState({arrPcodes:t})}},{key:"addEntry",value:function(e,t){var a=[e,t],n=this.state.arrPcodes;n.some((function(e){return p(a,e)}))?this.setState({errMessage:"This entry already exists"}):(n.unshift(a),this.setState({arrPcodes:n,errMessage:""}),this.entryAddForm.current.setState({tempPcodeValue:"",tempTownNameValue:""}))}},{key:"openEditDialogue",value:function(e){this.setState({editMode:!0,editIndex:e,editPcodeValue:this.state.arrPcodes[e][0],editTownNameValue:this.state.arrPcodes[e][1]})}},{key:"onClickEditCancel",value:function(){this.setState({editMode:!1,editIndex:void 0,editPcodeValue:void 0,editTownNameValue:void 0})}},{key:"handleEditChange",value:function(e){var t=e.target,a=t.name,n=t.value;"editPcodeValue"===a?(/^[0-9]+$/.test(n)&&n.length<5||""===n)&&this.setState(Object(s.a)({},a,n)):"editTownNameValue"===a&&(/^[a-zA-Z\s]+$/.test(n)||""===n)&&this.setState(Object(s.a)({},a,n))}},{key:"setErrorMessage",value:function(e){this.setState({errMessage:e})}},{key:"updateStorage",value:function(){localStorage.setItem("arrPcodes",JSON.stringify(this.state.arrPcodes))}},{key:"render",value:function(){var e=this;return(i.a.createElement("div",{className:"App"},i.a.createElement("h1",null,"Postcodes"),i.a.createElement(b,{addEntry:this.addEntry,setErrorMessage:this.setErrorMessage,ref:this.entryAddForm}),i.a.createElement("p",null,this.state.errMessage),i.a.createElement("ul",null,this.state.arrPcodes.map((function(t,a){return i.a.createElement(E,{value:t,key:a,index:a,deleteEntry:e.deleteEntry,openEditDialogue:e.openEditDialogue})}))),this.state.editMode?i.a.createElement("form",{id:"edit-overlay",onSubmit:this.editEntry},i.a.createElement("h2",null,"Edit entry"),i.a.createElement("span",null,i.a.createElement("input",{value:this.state.editPcodeValue,onChange:this.handleEditChange,name:"editPcodeValue"}),i.a.createElement("input",{value:this.state.editTownNameValue,onChange:this.handleEditChange,name:"editTownNameValue"})),i.a.createElement("span",null,i.a.createElement("button",{type:"submit"},"Save"),i.a.createElement("button",{onClick:this.onClickEditCancel},"Cancel"))):"",i.a.createElement("button",{onClick:this.updateStorage},"Update HTML5 Local Storage")))}}]),a}(i.a.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(i.a.createElement(i.a.StrictMode,null,i.a.createElement(g,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},9:function(e,t,a){e.exports=a(16)}},[[9,1,2]]]);
//# sourceMappingURL=main.fd0ac52a.chunk.js.map